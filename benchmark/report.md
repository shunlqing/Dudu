### 网络库压力测试

#### 1. 测试环境

Ubuntu 16.04 虚拟机

CPU核心数 ： 2



#### 2. 测试方法

使用网络框架同时实现客户端和服务端并同时支持echo协议，使用pingpong测试网络框架的吞吐量。

测试两种情况下的吞吐量：

1. 客户端和服务端都是单线程，设置不同的块大小和并发连接数。
2. 客户端和服务端为多线程，设置不同的IO线程数和并发连接数。



#### 3. 单线程

单位：Mib/s

| 块大小 \ 并发连接数 | 1    | 10   | 100  | 1000 | 10000 |
| :-----------------: | ---- | ---- | ---- | ---- | ----- |
|        1024         | 8    | 134  | 166  | 117  | 105   |
|        2048         | 17   | 272  | 275  | 207  | 180   |
|        4096         | 35   | 467  | 474  | 332  | 321   |
|        8192         | 69   | 797  | 799  | 639  | 557   |
|        16384        | 132  | 1226 | 1215 | 980  | 703   |
|        81920        | 398  | 1001 | 940  | 897  | 252   |



#### 4. 多线程

服务端和客户端都设置为相应的IO线程数。

数据块大小固定为16384B，单位Mib/s

| 线程数\并发连接数 | 100  | 1000 | 1000 |
| :---------------: | :--: | :--: | :--: |
|         1         | 1153 | 892  | 690  |
|         2         | 1128 | 947  | 667  |
|         3         | 1129 | 955  | 664  |
|         4         | 1135 | 865  | 644  |

